#pragma once

/*==============================================================================
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

namespace CX
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
// This class implements evaluation of superwants. It does calculations
// based on superwants values and generates corresponding events.

class SuperWantsEvaluatorDA
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // If this is greater than zero then a tta reboot is in progress.
   // If so then it is decremented to zero and a restart qcall is
   // sent to the tta comm thread.
   int mRebootTTACountZero;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods:

   // Constructor.
   SuperWantsEvaluatorDA();
   void reset();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Evaluate superwants. The superwants are obtained from shared memory.
   void doEvaluate(bool aFirstFlag);
};

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Global instance

#ifdef _CXSUPERWANTSEVALUATORDA_CPP_
          SuperWantsEvaluatorDA gSuperWantsEvaluatorDA;
#else
   extern SuperWantsEvaluatorDA gSuperWantsEvaluatorDA;
#endif

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace

